{"version":3,"file":"editorconfig.js","sourceRoot":"","sources":["editorconfig.ts"],"names":[],"mappings":"AAEA,YAAY,CAAC;AAIb,IAAY,YAAY,WAAM,cAAc,CAAC,CAAA;AAI7C,IAAI,kBAAkB,GAAG,KAAK,CAAC;AAE/B,+BAA8C,QAAgB,EAAE,IAAa,EAAE,aAAmC;IAC9G,YAAY,CAAC;IAEb,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC;QACtD,OAAO,CAAC,GAAG,CAAC,+CAA+C,CAAC,CAAC;QAC7D,kBAAkB,GAAG,IAAI,CAAC;IAC9B,CAAC;IAED,MAAM,CAAC,YAAY;SACd,KAAK,CAAC,QAAQ,CAAC;SACf,IAAI,CAAC,UAAA,MAAM;QACR,EAAE,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC;YACnC,MAAM,CAAC,aAAa,CAAC;QACzB,CAAC;QACD,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;YACf,OAAO,CAAC,GAAG,CAAC,kBAAkB,GAAG,QAAQ,GAAG,QAAQ,GAAG,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;QACnG,CAAC;QAED,EAAE,CAAC,CAAC,MAAM,CAAC,YAAY,KAAK,KAAK,CAAC,CAAC,CAAC;YAChC,aAAa,CAAC,mBAAmB,GAAG,KAAK,CAAC;QAI9C,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,OAAO,MAAM,CAAC,WAAW,KAAK,QAAQ,CAAC,CAAC,CAAC;YAChD,aAAa,CAAC,mBAAmB,GAAG,IAAI,CAAC;YACzC,aAAa,CAAC,UAAU,GAAG,MAAM,CAAC,WAAW,CAAC;QAClD,CAAC;QACD,EAAE,CAAC,CAAC,MAAM,CAAC,WAAW,KAAK,IAAI,CAAC,CAAC,CAAC;YAC9B,aAAa,CAAC,gBAAgB,GAAG,IAAI,CAAC;QAC1C,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,WAAW,KAAK,IAAI,CAAC,CAAC,CAAC;YACrC,aAAa,CAAC,gBAAgB,GAAG,IAAI,CAAC;QAC1C,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,WAAW,KAAK,MAAM,CAAC,CAAC,CAAC;YACvC,aAAa,CAAC,gBAAgB,GAAG,MAAM,CAAC;QAC5C,CAAC;QAED,MAAM,CAAC,aAAa,CAAC;IACzB,CAAC,CAAC,CAAC;AACX,CAAC;AArCD;uCAqCC,CAAA","sourcesContent":["/// <reference path=\"../typings/editorconfig.d.ts\" />\n\n\"use strict\";\n\nimport * as ts from \"typescript\";\n\nimport * as editorconfig from \"editorconfig\";\n\nimport {Options} from \"../\";\n\nlet emitBaseDirWarning = false;\n\nexport default function makeFormatCodeOptions(fileName: string, opts: Options, formatOptions: ts.FormatCodeOptions): Promise<ts.FormatCodeOptions> {\n    \"use strict\";\n\n    if (opts.verbose && opts.baseDir && !emitBaseDirWarning) {\n        console.log(\"editorconfig is not supported baseDir options\");\n        emitBaseDirWarning = true;\n    }\n\n    return editorconfig\n        .parse(fileName)\n        .then(config => {\n            if (Object.keys(config).length === 0) {\n                return formatOptions;\n            }\n            if (opts.verbose) {\n                console.log(\"editorconfig: \\n\" + \"file: \" + fileName + \"\\n\" + JSON.stringify(config, null, 2));\n            }\n\n            if (config.indent_style === \"tab\") {\n                formatOptions.ConvertTabsToSpaces = false;\n                // if (typeof config.tab_width === \"number\") {\n                // \toptions.TabSize = config.tab_width;\n                // }\n            } else if (typeof config.indent_size === \"number\") {\n                formatOptions.ConvertTabsToSpaces = true;\n                formatOptions.IndentSize = config.indent_size;\n            }\n            if (config.end_of_line === \"lf\") {\n                formatOptions.NewLineCharacter = \"\\n\";\n            } else if (config.end_of_line === \"cr\") {\n                formatOptions.NewLineCharacter = \"\\r\";\n            } else if (config.end_of_line === \"crlf\") {\n                formatOptions.NewLineCharacter = \"\\r\\n\";\n            }\n\n            return formatOptions;\n        });\n}\n"]}