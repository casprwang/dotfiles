(function(){var _lexer_actions=[0,1,0,1,1,1,2,1,3,1,4,1,5,1,6,1,7,1,8,1,9,1,10,1,11,1,12,1,13,1,16,1,17,1,18,1,19,1,20,1,21,1,22,1,23,2,2,18,2,3,4,2,13,0,2,14,15,2,17,0,2,17,1,2,17,16,2,17,19,2,18,6,2,18,7,2,18,8,2,18,9,2,18,10,2,18,16,2,20,21,2,22,0,2,22,1,2,22,16,2,22,19,3,4,14,15,3,5,14,15,3,11,14,15,3,12,14,15,3,13,14,15,3,14,15,18,3,17,0,11,3,17,14,15,4,2,14,15,18,4,3,4,14,15,4,17,0,14,15,5,17,0,11,14,15];var _lexer_key_offsets=[0,0,18,35,36,37,39,41,46,51,56,61,65,69,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,89,91,96,103,108,109,110,111,112,113,114,115,116,123,125,127,129,131,133,150,152,154,155,156,157,158,159,173,175,177,179,181,183,185,187,189,191,193,195,197,199,201,203,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,253,255,257,259,261,263,265,267,269,271,272,273,274,275,276,277,278,279,280,281,282,293,295,297,299,301,303,305,307,309,311,313,315,317,319,321,323,325,327,329,331,333,335,337,339,341,343,345,347,349,351,353,355,357,359,361,364,366,368,370,372,374,376,377,378,379,380,381,382,383,384,385,386,387,388,389,391,392,393,394,395,396,397,398,399,400,414,416,418,420,422,424,426,428,430,432,434,436,438,440,442,444,447,449,451,453,455,457,459,461,463,465,467,469,471,473,475,477,479,481,483,485,487,489,491,493,495,497,498,499,513,515,517,519,521,523,525,527,529,531,533,535,537,539,541,543,546,549,551,553,555,557,559,561,563,565,567,569,571,573,575,577,579,581,583,585,587,589,591,593,595,598,600,602,604,606,608,610,612,614,616,617,618,619,623,629,632,634,640,657,658,659];var _lexer_trans_keys=[10,32,34,35,37,42,64,67,68,70,75,77,83,84,124,239,9,13,10,32,34,35,37,42,64,67,68,70,75,77,83,84,124,9,13,34,34,10,13,10,13,10,32,34,9,13,10,32,34,9,13,10,32,34,9,13,10,32,34,9,13,10,32,9,13,10,32,9,13,10,13,10,95,70,69,65,84,85,82,69,95,69,78,68,95,37,32,10,13,10,13,13,32,64,9,10,9,10,13,32,64,11,12,10,32,64,9,13,111,110,116,111,104,58,10,10,10,32,35,70,124,9,13,10,105,10,116,10,117,10,114,10,58,10,32,34,35,37,42,64,67,68,70,75,77,83,84,124,9,13,97,101,110,115,97,114,58,10,10,10,32,35,37,42,64,68,70,75,77,83,84,9,13,10,95,10,70,10,69,10,65,10,84,10,85,10,82,10,69,10,95,10,69,10,78,10,68,10,95,10,37,10,32,10,97,101,10,110,10,110,10,103,10,97,10,105,10,116,10,117,10,114,10,58,10,101,10,116,10,105,10,107,10,97,10,97,10,107,10,101,10,110,10,97,10,114,10,105,10,111,10,32,58,10,107,10,111,10,110,10,115,10,101,10,112,10,97,10,112,10,105,110,103,97,110,105,116,117,114,58,10,10,10,32,35,37,64,67,68,70,83,9,13,10,95,10,70,10,69,10,65,10,84,10,85,10,82,10,69,10,95,10,69,10,78,10,68,10,95,10,37,10,111,10,110,10,116,10,111,10,104,10,58,10,97,10,115,10,97,10,114,10,105,10,116,10,117,10,107,10,101,10,110,10,97,10,114,10,105,10,111,10,32,58,10,107,10,111,10,110,10,115,10,101,10,112,101,116,105,107,97,97,107,101,110,97,114,105,111,32,58,107,111,110,115,101,112,58,10,10,10,32,35,37,42,64,68,70,75,77,83,84,9,13,10,95,10,70,10,69,10,65,10,84,10,85,10,82,10,69,10,95,10,69,10,78,10,68,10,95,10,37,10,32,10,97,101,10,110,10,110,10,103,10,97,10,105,10,116,10,117,10,114,10,58,10,101,10,116,10,105,10,107,10,97,10,97,10,107,10,101,10,110,10,97,10,114,10,105,10,111,10,97,10,112,10,105,10,10,10,32,35,37,42,64,68,70,75,77,83,84,9,13,10,95,10,70,10,69,10,65,10,84,10,85,10,82,10,69,10,95,10,69,10,78,10,68,10,95,10,37,10,32,10,97,101,10,110,115,10,97,10,114,10,58,10,110,10,103,10,97,10,110,10,105,10,116,10,117,10,101,10,116,10,105,10,107,10,97,10,97,10,107,10,101,10,110,10,97,10,114,10,105,10,111,10,32,58,10,107,10,111,10,110,10,115,10,101,10,112,10,97,10,112,10,105,97,112,105,32,124,9,13,10,32,92,124,9,13,10,92,124,10,92,10,32,92,124,9,13,10,32,34,35,37,42,64,67,68,70,75,77,83,84,124,9,13,187,191,0];var _lexer_single_lengths=[0,16,15,1,1,2,2,3,3,3,3,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,3,5,3,1,1,1,1,1,1,1,1,5,2,2,2,2,2,15,2,2,1,1,1,1,1,12,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,9,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,12,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,12,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,2,2,2,2,2,2,2,2,2,1,1,1,2,4,3,2,4,15,1,1,0];var _lexer_range_lengths=[0,1,1,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,0];var _lexer_index_offsets=[0,0,18,35,37,39,42,45,50,55,60,65,69,73,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,111,114,119,126,131,133,135,137,139,141,143,145,147,154,157,160,163,166,169,186,189,192,194,196,198,200,202,216,219,222,225,228,231,234,237,240,243,246,249,252,255,258,261,265,268,271,274,277,280,283,286,289,292,295,298,301,304,307,310,313,316,319,322,325,328,331,335,338,341,344,347,350,353,356,359,362,364,366,368,370,372,374,376,378,380,382,384,395,398,401,404,407,410,413,416,419,422,425,428,431,434,437,440,443,446,449,452,455,458,461,464,467,470,473,476,479,482,485,488,491,494,497,501,504,507,510,513,516,519,521,523,525,527,529,531,533,535,537,539,541,543,545,548,550,552,554,556,558,560,562,564,566,580,583,586,589,592,595,598,601,604,607,610,613,616,619,622,625,629,632,635,638,641,644,647,650,653,656,659,662,665,668,671,674,677,680,683,686,689,692,695,698,701,704,706,708,722,725,728,731,734,737,740,743,746,749,752,755,758,761,764,767,771,775,778,781,784,787,790,793,796,799,802,805,808,811,814,817,820,823,826,829,832,835,838,841,844,848,851,854,857,860,863,866,869,872,875,877,879,881,885,891,895,898,904,921,923,925];var _lexer_indicies=[2,1,3,4,5,6,7,8,9,10,11,12,13,14,15,16,1,0,2,1,3,4,5,6,7,8,9,10,11,12,13,14,15,1,0,17,0,18,0,20,21,19,23,24,22,27,26,28,26,25,31,30,32,30,29,31,30,33,30,29,31,30,34,30,29,36,35,35,0,2,37,37,0,39,40,38,2,0,41,0,42,0,43,0,44,0,45,0,46,0,47,0,48,0,49,0,50,0,51,0,52,0,53,0,54,0,55,0,57,58,56,60,61,59,0,0,0,0,62,63,64,63,63,66,65,62,2,67,7,67,0,68,0,69,0,70,0,71,0,72,0,73,0,75,74,77,76,77,78,79,80,79,78,76,77,81,76,77,82,76,77,83,76,77,84,76,77,85,76,87,86,88,89,90,91,92,93,94,95,96,97,98,99,100,86,0,101,102,0,103,104,0,105,0,106,0,107,0,109,108,111,110,111,112,113,114,115,113,116,117,118,119,120,121,112,110,111,122,110,111,123,110,111,124,110,111,125,110,111,126,110,111,127,110,111,128,110,111,129,110,111,130,110,111,131,110,111,132,110,111,133,110,111,134,110,111,135,110,111,136,110,111,137,138,110,111,139,110,111,140,110,111,141,110,111,137,110,111,142,110,111,143,110,111,144,110,111,145,110,111,136,110,111,146,110,111,147,110,111,148,110,111,149,110,111,139,110,111,148,110,111,150,110,111,151,110,111,152,110,111,153,110,111,154,110,111,155,110,111,156,110,111,157,136,110,111,158,110,111,159,110,111,160,110,111,161,110,111,162,110,111,145,110,111,163,110,111,164,110,111,139,110,165,0,166,0,167,0,103,0,168,0,169,0,170,0,171,0,172,0,174,173,176,175,176,177,178,179,178,180,181,182,183,177,175,176,184,175,176,185,175,176,186,175,176,187,175,176,188,175,176,189,175,176,190,175,176,191,175,176,192,175,176,193,175,176,194,175,176,195,175,176,196,175,176,197,175,176,198,175,176,199,175,176,200,175,176,201,175,176,202,175,176,203,175,176,204,175,176,205,175,176,206,175,176,202,175,176,207,175,176,208,175,176,206,175,176,209,175,176,210,175,176,211,175,176,212,175,176,213,175,176,214,175,176,215,175,176,216,203,175,176,217,175,176,218,175,176,219,175,176,220,175,176,221,175,176,202,175,222,0,223,0,224,0,225,0,103,0,224,0,226,0,227,0,228,0,229,0,230,0,231,0,232,0,233,234,0,235,0,236,0,237,0,238,0,239,0,240,0,241,0,243,242,245,244,245,246,247,248,249,247,250,251,252,253,254,255,246,244,245,256,244,245,257,244,245,258,244,245,259,244,245,260,244,245,261,244,245,262,244,245,263,244,245,264,244,245,265,244,245,266,244,245,267,244,245,268,244,245,269,244,245,270,244,245,271,272,244,245,273,244,245,274,244,245,275,244,245,271,244,245,276,244,245,277,244,245,278,244,245,279,244,245,270,244,245,280,244,245,281,244,245,282,244,245,283,244,245,273,244,245,282,244,245,284,244,245,285,244,245,286,244,245,287,244,245,288,244,245,289,244,245,279,244,245,290,244,245,291,244,245,273,244,293,292,295,294,295,296,297,298,299,297,300,301,302,303,304,305,296,294,295,306,294,295,307,294,295,308,294,295,309,294,295,310,294,295,311,294,295,312,294,295,313,294,295,314,294,295,315,294,295,316,294,295,317,294,295,318,294,295,319,294,295,320,294,295,321,322,294,295,323,324,294,295,325,294,295,326,294,295,320,294,295,327,294,295,328,294,295,329,294,295,323,294,295,330,294,295,331,294,295,325,294,295,332,294,295,333,294,295,334,294,295,335,294,295,323,294,295,334,294,295,336,294,295,337,294,295,338,294,295,339,294,295,340,294,295,341,294,295,342,294,295,343,320,294,295,344,294,295,345,294,295,346,294,295,347,294,295,348,294,295,326,294,295,349,294,295,350,294,295,323,294,351,0,352,0,103,0,353,354,353,0,357,356,358,359,356,355,0,361,362,360,0,361,360,357,363,361,362,363,360,357,364,365,366,367,368,369,370,371,372,373,374,375,376,377,364,0,378,0,1,0,379,0];var _lexer_trans_targs=[0,2,2,3,13,15,29,32,35,50,110,159,164,165,277,280,286,4,5,6,7,6,6,7,6,8,8,8,9,8,8,8,9,10,11,12,2,12,13,2,14,16,17,18,19,20,21,22,23,24,25,26,27,28,288,30,31,2,14,31,2,14,33,34,2,33,32,34,36,37,38,39,40,41,42,43,42,43,43,2,44,45,46,47,48,49,2,2,3,13,15,29,32,35,50,110,159,164,165,277,280,51,106,29,52,53,54,55,56,57,56,57,57,2,58,72,73,78,83,88,89,103,59,60,61,62,63,64,65,66,67,68,69,70,71,2,49,74,75,72,76,77,79,80,81,82,84,85,86,87,90,91,92,93,94,95,96,97,98,99,100,101,102,104,105,107,108,109,111,112,113,114,115,116,117,116,117,117,2,118,132,138,142,145,119,120,121,122,123,124,125,126,127,128,129,130,131,2,133,134,135,136,137,49,139,140,141,143,144,146,147,148,149,150,151,152,153,154,155,156,157,158,160,161,162,163,166,167,168,169,170,171,172,173,224,174,175,176,177,178,179,180,181,182,181,182,182,2,183,197,198,203,208,213,214,221,184,185,186,187,188,189,190,191,192,193,194,195,196,2,49,199,200,197,201,202,204,205,206,207,209,210,211,212,215,216,217,218,219,220,222,223,225,226,225,226,226,2,227,241,242,251,254,259,260,274,228,229,230,231,232,233,234,235,236,237,238,239,240,2,49,243,247,241,244,245,246,248,249,250,252,253,255,256,257,258,261,262,263,264,265,266,267,268,269,270,271,272,273,275,276,278,279,280,281,282,284,285,283,281,282,283,281,284,285,3,13,15,29,32,35,50,110,159,164,165,277,280,287,0];var _lexer_trans_actions=[43,0,54,3,1,0,29,1,29,29,29,29,29,29,29,35,0,0,0,7,139,48,0,102,9,5,45,134,45,0,33,122,33,33,0,11,106,0,0,114,25,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,57,149,126,0,110,23,0,27,118,27,51,0,0,0,0,0,0,0,57,144,0,54,0,81,84,0,0,0,0,21,31,130,60,57,31,63,57,63,63,63,63,63,63,63,66,0,0,0,0,0,0,0,57,144,0,54,0,72,33,84,84,84,84,84,84,84,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,57,144,0,54,0,69,33,84,84,84,84,0,0,0,0,0,0,0,0,0,0,0,0,0,13,0,0,0,0,0,13,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,57,144,0,54,0,78,33,84,84,84,84,84,84,84,0,0,0,0,0,0,0,0,0,0,0,0,0,19,19,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,57,144,0,54,0,75,33,84,84,84,84,84,84,84,0,0,0,0,0,0,0,0,0,0,0,0,0,17,17,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,37,37,54,37,87,0,0,39,0,0,93,90,41,96,90,96,96,96,96,96,96,96,99,0,0];var _lexer_eof_actions=[0,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43];var lexer_start=1;var lexer_first_final=288;var lexer_error=0;var lexer_en_main=1;var Lexer=function(listener){var events=["comment","tag","feature","background","scenario","scenario_outline","examples","step","doc_string","row","eof"];for(var i=0,len=events.length;i<len;i++){var event=events[i];if(typeof listener[event]!="function"){throw new Error("Error. No "+event+" function exists on "+JSON.stringify(listener))}}this.listener=listener};Lexer.prototype.scan=function(data){var ending="\n%_FEATURE_END_%";if(typeof data=="string"){data=this.stringToBytes(data+ending)}else if(typeof Buffer!="undefined"&&Buffer.isBuffer(data)){var buf=new Buffer(data.length+ending.length);data.copy(buf,0,0);new Buffer(ending).copy(buf,data.length,0);data=buf}var eof=pe=data.length;var p=0;this.line_number=1;this.last_newline=0;var signedCharValue=function(v){return v>127?v-256:v};{this.cs=lexer_start}{var _klen,_trans,_keys,_ps,_widec,_acts,_nacts;var _goto_level,_resume,_eof_trans,_again,_test_eof;var _out;_klen=_trans=_keys=_acts=_nacts=null;_goto_level=0;_resume=10;_eof_trans=15;_again=20;_test_eof=30;_out=40;while(true){_trigger_goto=false;if(_goto_level<=0){if(p==pe){_goto_level=_test_eof;continue}if(this.cs==0){_goto_level=_out;continue}}if(_goto_level<=_resume){_keys=_lexer_key_offsets[this.cs];_trans=_lexer_index_offsets[this.cs];_klen=_lexer_single_lengths[this.cs];_break_match=false;do{if(_klen>0){_lower=_keys;_upper=_keys+_klen-1;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1);if(signedCharValue(data[p])<_lexer_trans_keys[_mid]){_upper=_mid-1}else if(signedCharValue(data[p])>_lexer_trans_keys[_mid]){_lower=_mid+1}else{_trans+=_mid-_keys;_break_match=true;break}}if(_break_match){break}_keys+=_klen;_trans+=_klen}_klen=_lexer_range_lengths[this.cs];if(_klen>0){_lower=_keys;_upper=_keys+(_klen<<1)-2;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1&~1);if(signedCharValue(data[p])<_lexer_trans_keys[_mid]){_upper=_mid-2}else if(signedCharValue(data[p])>_lexer_trans_keys[_mid+1]){_lower=_mid+2}else{_trans+=_mid-_keys>>1;_break_match=true;break}}if(_break_match){break}_trans+=_klen}}while(false);_trans=_lexer_indicies[_trans];this.cs=_lexer_trans_targs[_trans];if(_lexer_trans_actions[_trans]!=0){_acts=_lexer_trans_actions[_trans];_nacts=_lexer_actions[_acts];_acts+=1;while(_nacts>0){_nacts-=1;_acts+=1;switch(_lexer_actions[_acts-1]){case 0:this.content_start=p;this.current_line=this.line_number;this.start_col=p-this.last_newline-(this.keyword+":").length;break;case 1:this.current_line=this.line_number;this.start_col=p-this.last_newline;break;case 2:this.content_start=p;break;case 3:this.docstring_content_type_start=p;break;case 4:this.docstring_content_type_end=p;break;case 5:var con=this.unindent(this.start_col,this.bytesToString(data.slice(this.content_start,this.next_keyword_start-1)).replace(/(\r?\n)?([\t ])*$/,"").replace(/\\\"\\\"\\\"/gm,'"""'));var con_type=this.bytesToString(data.slice(this.docstring_content_type_start,this.docstring_content_type_end)).trim();this.listener.doc_string(con_type,con,this.current_line);break;case 6:p=this.store_keyword_content("feature",data,p,eof);break;case 7:p=this.store_keyword_content("background",data,p,eof);break;case 8:p=this.store_keyword_content("scenario",data,p,eof);break;case 9:p=this.store_keyword_content("scenario_outline",data,p,eof);break;case 10:p=this.store_keyword_content("examples",data,p,eof);break;case 11:var con=this.bytesToString(data.slice(this.content_start,p)).trim();this.listener.step(this.keyword,con,this.current_line);break;case 12:var con=this.bytesToString(data.slice(this.content_start,p)).trim();this.listener.comment(con,this.line_number);this.keyword_start=null;break;case 13:var con=this.bytesToString(data.slice(this.content_start,p)).trim();this.listener.tag(con,this.line_number);this.keyword_start=null;break;case 14:this.line_number++;break;case 15:this.last_newline=p+1;break;case 16:this.keyword_start=this.keyword_start||p;break;case 17:this.keyword=this.bytesToString(data.slice(this.keyword_start,p)).replace(/:$/,"");this.keyword_start=null;break;case 18:this.next_keyword_start=p;break;case 19:p=p-1;current_row=[];this.current_line=this.line_number;break;case 20:this.content_start=p;break;case 21:var con=this.bytesToString(data.slice(this.content_start,p)).trim();current_row.push(con.replace(/\\\|/,"|").replace(/\\n/,"\n").replace(/\\\\/,"\\"));break;case 22:this.listener.row(current_row,this.current_line);break;case 23:if(this.cs<lexer_first_final){var content=this.current_line_content(data,p);throw new Error("Lexing error on line "+this.line_number+": '"+content+"'. See http://wiki.github.com/cucumber/gherkin/lexingerror for more information.")}else{this.listener.eof()}break}}}if(_trigger_goto){continue}}if(_goto_level<=_again){if(this.cs==0){_goto_level=_out;continue}p+=1;if(p!=pe){_goto_level=_resume;continue}}if(_goto_level<=_test_eof){if(p==eof){__acts=_lexer_eof_actions[this.cs];__nacts=_lexer_actions[__acts];__acts+=1;while(__nacts>0){__nacts-=1;__acts+=1;switch(_lexer_actions[__acts-1]){case 23:if(this.cs<lexer_first_final){var content=this.current_line_content(data,p);throw new Error("Lexing error on line "+this.line_number+": '"+content+"'. See http://wiki.github.com/cucumber/gherkin/lexingerror for more information.")}else{this.listener.eof()}break}}if(_trigger_goto){continue}}}if(_goto_level<=_out){break}}}};var decodeUtf8=function(bytes){var result="";var i=0;var wc;var c;while(i<bytes.length){wc=bytes[i++];if(wc<128){count=0}else if(wc<194||wc>=248){throw new Error("input is not a valid UTF-8 lead octet")}else if(wc<224){count=1;wc=(wc&31)<<6}else if(wc<240){count=2;wc=(wc&15)<<12}else{count=3;wc=(wc&7)<<18}while(count){if(!(i<bytes.length)){throw new Error("short read")}if((c=bytes[i++]^128)>63){throw new Error("input is not a valid UTF-8 trail octet")}wc|=c<<6*--count;if(wc<1<<5*count+6){throw new Error("invalid non-minimal encoded input")}}if(wc>65535){wc-=65536;result+=String.fromCharCode(55296+(wc>>10));wc=56320+(wc&1023)}result+=String.fromCharCode(wc)}return result};var encodeUtf8=function(string){var bytes=[];var i=0;var j=0;var wc;while(i<string.length){wc=string.charCodeAt(i++);if(wc>=55296&&wc<=56319&&i<string.length&&string.charCodeAt(i)>=56320&&string.charCodeAt(i)<=57343){wc=65536+((wc&1023)<<10)+(string.charCodeAt(i++)&1023)}if(wc<128){bytes[j++]=wc;count=0}else if(wc<2048){bytes[j++]=192|wc>>6;count=1}else if(wc<65536){bytes[j++]=224|wc>>12;count=2}else{bytes[j++]=240|wc>>18;count=3}while(count){bytes[j++]=128|wc>>6*--count&63}}return bytes};Lexer.prototype.bytesToString=function(bytes){if(typeof bytes.write=="function"){return bytes.toString("utf-8")}return decodeUtf8(bytes)};Lexer.prototype.stringToBytes=function(string){return encodeUtf8(string)};Lexer.prototype.unindent=function(startcol,text){startcol=startcol||0;return text.replace(new RegExp("^[	 ]{0,"+startcol+"}","gm"),"")};Lexer.prototype.store_keyword_content=function(event,data,p,eof){var end_point=!this.next_keyword_start||p==eof?p:this.next_keyword_start;var content=this.unindent(this.start_col+2,this.bytesToString(data.slice(this.content_start,end_point))).replace(/\s+$/,"");var content_lines=content.split("\n");var name=content_lines.shift()||"";name=name.trim();var description=content_lines.join("\n");this.listener[event](this.keyword,name,description,this.current_line);var nks=this.next_keyword_start;this.next_keyword_start=null;return nks?nks-1:p};Lexer.prototype.current_line_content=function(data,p){var rest=Array.prototype.slice.call(data,this.last_newline,-1);var end=rest.indexOf(10)||-1;return this.bytesToString(rest.slice(0,end)).trim()};if(typeof module!=="undefined"){module.exports=Lexer}if(typeof define!=="undefined"){if(define.amd){define("gherkin/lexer/id",[],function(){return Lexer})}else{define("gherkin/lexer/id",function(require,exports,module){exports.Lexer=Lexer})}}})();