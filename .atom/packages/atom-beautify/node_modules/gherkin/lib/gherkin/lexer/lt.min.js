(function(){var _lexer_actions=[0,1,0,1,1,1,2,1,3,1,4,1,5,1,6,1,7,1,8,1,9,1,10,1,11,1,12,1,13,1,16,1,17,1,18,1,19,1,20,1,21,1,22,1,23,2,2,18,2,3,4,2,13,0,2,14,15,2,17,0,2,17,1,2,17,16,2,17,19,2,18,6,2,18,7,2,18,8,2,18,9,2,18,10,2,18,16,2,20,21,2,22,0,2,22,1,2,22,16,2,22,19,3,4,14,15,3,5,14,15,3,11,14,15,3,12,14,15,3,13,14,15,3,14,15,18,3,17,0,11,3,17,14,15,4,2,14,15,18,4,3,4,14,15,4,17,0,14,15,5,17,0,11,14,15];var _lexer_key_offsets=[0,0,19,37,38,39,41,43,48,53,58,63,67,71,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,98,105,110,111,112,113,114,115,116,117,119,120,121,122,123,124,125,126,127,128,129,130,131,145,147,149,151,153,155,157,159,161,163,165,167,169,171,173,175,193,194,195,196,197,198,199,200,201,202,203,204,205,206,213,215,217,219,221,223,225,227,229,230,231,232,233,234,235,236,237,248,250,252,254,256,258,260,262,264,266,268,270,272,274,276,278,280,282,284,286,288,290,292,294,296,298,300,302,304,306,308,310,312,314,316,319,321,323,325,327,329,331,333,335,337,339,341,344,347,349,351,353,355,357,359,361,363,365,367,369,371,373,375,377,378,379,380,381,382,383,385,387,388,389,390,391,392,393,394,395,396,397,398,399,400,401,415,417,419,421,423,425,427,429,431,433,435,437,439,441,443,445,447,449,451,453,455,457,459,461,463,466,468,470,472,474,476,478,480,482,484,486,488,490,492,494,496,498,499,500,501,502,516,518,520,522,524,526,528,530,532,534,536,538,540,542,544,546,548,550,552,554,556,558,560,563,565,567,569,571,573,575,577,579,581,583,586,588,590,592,594,596,598,600,602,604,606,608,611,613,615,617,619,621,623,625,627,629,631,633,635,636,637,638,639,640,641,642,643,647,653,656,658,664,682,684,686,688,690,692,694,696,698,700,703,705,707,709,711,713,715,717,719,721,723,725,727,730,732,734,736,738,740,742,744,746,748,750,752,754,756,758,759,760];var _lexer_trans_keys=[10,32,34,35,37,42,64,66,68,73,75,80,83,84,86,124,239,9,13,10,32,34,35,37,42,64,66,68,73,75,80,83,84,86,124,9,13,34,34,10,13,10,13,10,32,34,9,13,10,32,34,9,13,10,32,34,9,13,10,32,34,9,13,10,32,9,13,10,32,9,13,10,13,10,95,70,69,65,84,85,82,69,95,69,78,68,95,37,32,10,13,10,13,13,32,64,9,10,9,10,13,32,64,11,12,10,32,64,9,13,101,116,117,111,116,97,114,97,111,105,110,116,101,107,115,116,97,115,58,10,10,10,32,35,37,42,64,66,68,73,75,83,84,9,13,10,95,10,70,10,69,10,65,10,84,10,85,10,82,10,69,10,95,10,69,10,78,10,68,10,95,10,37,10,32,10,32,34,35,37,42,64,66,68,73,75,80,83,84,86,124,9,13,97,118,121,122,100,-59,-66,105,97,105,58,10,10,10,32,35,83,124,9,13,10,97,10,118,10,121,10,98,-60,10,-105,10,10,58,97,99,118,121,98,-60,-105,58,10,10,10,32,35,37,64,75,80,83,86,9,13,10,95,10,70,10,69,10,65,10,84,10,85,10,82,10,69,10,95,10,69,10,78,10,68,10,95,10,37,10,111,10,110,10,116,10,101,10,107,10,115,10,116,10,97,10,115,10,58,10,97,10,118,10,121,10,122,10,100,-59,10,-66,10,10,105,10,97,10,105,10,97,99,10,118,10,121,10,98,-60,10,-105,10,10,101,10,110,10,97,10,114,10,105,10,106,10,97,117,10,105,117,10,115,10,32,-59,10,-95,10,10,97,10,98,10,108,10,111,10,110,10,97,10,114,10,105,10,97,10,110,10,116,101,110,97,114,105,106,97,117,105,117,115,32,-59,-95,97,98,108,111,110,97,115,58,10,10,10,32,35,37,42,64,66,68,73,75,83,84,9,13,10,95,10,70,10,69,10,65,10,84,10,85,10,82,10,69,10,95,10,69,10,78,10,68,10,95,10,37,10,32,10,101,10,116,10,117,10,111,10,116,10,97,10,114,10,97,10,105,10,97,99,10,118,10,121,10,98,-60,10,-105,10,10,58,10,101,10,110,10,97,10,114,10,105,10,106,10,117,10,115,10,97,10,100,115,58,10,10,10,32,35,37,42,64,66,68,73,75,83,84,9,13,10,95,10,70,10,69,10,65,10,84,10,85,10,82,10,69,10,95,10,69,10,78,10,68,10,95,10,37,10,32,10,101,10,116,10,117,10,111,10,116,10,97,10,114,10,97,111,10,105,10,110,10,116,10,101,10,107,10,115,10,116,10,97,10,115,10,58,10,97,99,10,118,10,121,10,98,-60,10,-105,10,10,101,10,110,10,97,10,114,10,105,10,106,10,97,117,10,117,10,115,10,32,-59,10,-95,10,10,97,10,98,10,108,10,111,10,110,10,97,10,100,97,100,97,114,105,97,110,116,32,124,9,13,10,32,92,124,9,13,10,92,124,10,92,10,32,92,124,9,13,10,32,34,35,37,42,64,66,68,73,75,80,83,84,86,124,9,13,10,101,10,116,10,117,10,111,10,116,10,97,10,114,10,97,10,105,10,97,99,10,118,10,121,10,98,-60,10,-105,10,10,58,10,101,10,110,10,97,10,114,10,105,10,106,10,97,117,10,117,10,115,10,32,-59,10,-95,10,10,97,10,98,10,108,10,111,10,110,10,97,10,115,10,97,10,100,187,191,0];var _lexer_single_lengths=[0,17,16,1,1,2,2,3,3,3,3,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,3,5,3,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,12,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,16,1,1,1,1,1,1,1,1,1,1,1,1,1,5,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,9,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,2,2,2,2,2,2,2,2,2,2,2,3,3,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,12,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,12,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,2,2,2,2,2,2,2,2,2,2,3,2,2,2,2,2,2,2,2,2,2,2,3,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,2,4,3,2,4,16,2,2,2,2,2,2,2,2,2,3,2,2,2,2,2,2,2,2,2,2,2,2,3,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,0];var _lexer_range_lengths=[0,1,1,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var _lexer_index_offsets=[0,0,19,37,39,41,44,47,52,57,62,67,71,75,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,113,116,121,128,133,135,137,139,141,143,145,147,150,152,154,156,158,160,162,164,166,168,170,172,174,188,191,194,197,200,203,206,209,212,215,218,221,224,227,230,233,251,253,255,257,259,261,263,265,267,269,271,273,275,277,284,287,290,293,296,299,302,305,308,310,312,314,316,318,320,322,324,335,338,341,344,347,350,353,356,359,362,365,368,371,374,377,380,383,386,389,392,395,398,401,404,407,410,413,416,419,422,425,428,431,434,437,441,444,447,450,453,456,459,462,465,468,471,474,478,482,485,488,491,494,497,500,503,506,509,512,515,518,521,524,527,529,531,533,535,537,539,542,545,547,549,551,553,555,557,559,561,563,565,567,569,571,573,587,590,593,596,599,602,605,608,611,614,617,620,623,626,629,632,635,638,641,644,647,650,653,656,659,663,666,669,672,675,678,681,684,687,690,693,696,699,702,705,708,711,713,715,717,719,733,736,739,742,745,748,751,754,757,760,763,766,769,772,775,778,781,784,787,790,793,796,799,803,806,809,812,815,818,821,824,827,830,833,837,840,843,846,849,852,855,858,861,864,867,870,874,877,880,883,886,889,892,895,898,901,904,907,910,912,914,916,918,920,922,924,926,930,936,940,943,949,967,970,973,976,979,982,985,988,991,994,998,1001,1004,1007,1010,1013,1016,1019,1022,1025,1028,1031,1034,1038,1041,1044,1047,1050,1053,1056,1059,1062,1065,1068,1071,1074,1077,1080,1082,1084];var _lexer_indicies=[2,1,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,1,0,2,1,3,4,5,6,7,8,9,10,11,12,13,14,15,16,1,0,18,0,19,0,21,22,20,24,25,23,28,27,29,27,26,32,31,33,31,30,32,31,34,31,30,32,31,35,31,30,37,36,36,0,2,38,38,0,40,41,39,2,0,42,0,43,0,44,0,45,0,46,0,47,0,48,0,49,0,50,0,51,0,52,0,53,0,54,0,55,0,56,0,58,59,57,61,62,60,0,0,0,0,63,64,65,64,64,67,66,63,2,68,7,68,0,69,0,70,0,71,0,72,0,73,0,70,0,70,0,74,75,0,70,0,76,0,77,0,78,0,79,0,80,0,81,0,82,0,83,0,84,0,86,85,88,87,88,89,90,91,92,90,93,94,95,96,97,98,89,87,88,99,87,88,100,87,88,101,87,88,102,87,88,103,87,88,104,87,88,105,87,88,106,87,88,107,87,88,108,87,88,109,87,88,110,87,88,111,87,88,112,87,88,113,87,115,114,116,117,118,119,120,121,122,123,124,125,126,127,128,129,114,0,130,0,131,0,132,0,133,0,134,0,135,0,136,0,137,0,138,0,139,0,140,0,142,141,144,143,144,145,146,147,146,145,143,144,148,143,144,149,143,144,150,143,144,151,143,152,144,143,153,144,143,144,154,143,155,156,0,157,0,158,0,159,0,160,0,161,0,162,0,164,163,166,165,166,167,168,169,168,170,171,172,173,167,165,166,174,165,166,175,165,166,176,165,166,177,165,166,178,165,166,179,165,166,180,165,166,181,165,166,182,165,166,183,165,166,184,165,166,185,165,166,186,165,166,187,165,166,188,165,166,189,165,166,190,165,166,191,165,166,192,165,166,193,165,166,194,165,166,195,165,166,196,165,166,197,165,166,198,165,166,199,165,166,200,165,166,201,165,166,202,165,203,166,165,204,166,165,166,205,165,166,206,165,166,196,165,166,207,208,165,166,209,165,166,210,165,166,211,165,212,166,165,196,166,165,166,213,165,166,214,165,166,215,165,166,216,165,166,217,165,166,218,165,166,219,195,165,166,196,220,165,166,221,165,166,222,165,223,166,165,224,166,165,166,225,165,166,226,165,166,227,165,166,228,165,166,194,165,166,229,165,166,230,165,166,231,165,166,232,165,166,233,165,166,205,165,234,0,235,0,236,0,237,0,238,0,239,0,240,241,0,139,242,0,243,0,244,0,245,0,246,0,247,0,248,0,249,0,250,0,251,0,252,0,253,0,254,0,256,255,258,257,258,259,260,261,262,260,263,264,265,266,267,268,259,257,258,269,257,258,270,257,258,271,257,258,272,257,258,273,257,258,274,257,258,275,257,258,276,257,258,277,257,258,278,257,258,279,257,258,280,257,258,281,257,258,282,257,258,283,257,258,284,257,258,285,257,258,286,257,258,287,257,258,288,257,258,285,257,258,285,257,258,289,257,258,285,257,258,290,291,257,258,292,257,258,293,257,258,294,257,295,258,257,296,258,257,258,283,257,258,297,257,258,298,257,258,299,257,258,300,257,258,301,257,258,302,257,258,303,257,258,296,257,258,304,257,258,288,257,305,0,306,0,308,307,310,309,310,311,312,313,314,312,315,316,317,318,319,320,311,309,310,321,309,310,322,309,310,323,309,310,324,309,310,325,309,310,326,309,310,327,309,310,328,309,310,329,309,310,330,309,310,331,309,310,332,309,310,333,309,310,334,309,310,335,309,310,336,309,310,337,309,310,338,309,310,339,309,310,340,309,310,337,309,310,337,309,310,341,342,309,310,337,309,310,343,309,310,344,309,310,345,309,310,346,309,310,347,309,310,348,309,310,349,309,310,350,309,310,335,309,310,351,352,309,310,353,309,310,354,309,310,355,309,356,310,309,350,310,309,310,357,309,310,358,309,310,359,309,310,360,309,310,361,309,310,362,309,310,363,349,309,310,364,309,310,365,309,310,366,309,367,310,309,368,310,309,310,369,309,310,370,309,310,371,309,310,372,309,310,348,309,310,373,309,310,340,309,374,0,73,0,375,0,376,0,377,0,378,0,379,0,137,0,380,381,380,0,384,383,385,386,383,382,0,388,389,387,0,388,387,384,390,388,389,390,387,384,391,392,393,394,395,396,397,398,399,400,401,402,403,404,405,391,0,88,406,87,88,407,87,88,408,87,88,409,87,88,410,87,88,407,87,88,407,87,88,411,87,88,407,87,88,412,413,87,88,414,87,88,415,87,88,416,87,417,88,87,418,88,87,88,113,87,88,419,87,88,420,87,88,421,87,88,422,87,88,423,87,88,424,87,88,425,426,87,88,427,87,88,428,87,88,429,87,430,88,87,431,88,87,88,432,87,88,433,87,88,434,87,88,435,87,88,436,87,88,426,87,88,418,87,88,437,87,88,410,87,438,0,1,0,439,0];var _lexer_trans_targs=[0,2,2,3,13,15,29,32,35,37,41,42,72,93,293,295,301,344,4,5,6,7,6,6,7,6,8,8,8,9,8,8,8,9,10,11,12,2,12,13,2,14,16,17,18,19,20,21,22,23,24,25,26,27,28,346,30,31,2,14,31,2,14,33,34,2,33,32,34,36,29,38,39,40,43,44,45,46,47,48,49,50,51,52,53,54,55,54,55,55,2,56,70,307,309,313,314,316,342,57,58,59,60,61,62,63,64,65,66,67,68,69,2,71,2,2,3,13,15,29,32,35,37,41,42,72,93,293,295,301,73,74,75,76,77,78,79,80,81,82,83,84,85,84,85,85,2,86,87,88,89,90,91,92,71,94,166,95,96,97,98,99,100,101,102,101,102,102,2,103,117,127,137,160,104,105,106,107,108,109,110,111,112,113,114,115,116,2,118,119,120,121,122,123,124,125,126,71,128,129,130,131,132,133,134,135,136,138,143,139,140,141,142,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,161,162,163,164,165,167,168,169,170,171,172,173,230,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,187,188,188,2,189,203,204,206,210,211,213,228,190,191,192,193,194,195,196,197,198,199,200,201,202,2,71,205,203,207,208,209,212,214,220,215,216,217,218,219,221,222,223,224,225,226,227,229,231,232,233,234,233,234,234,2,235,249,250,252,256,257,268,291,236,237,238,239,240,241,242,243,244,245,246,247,248,2,71,251,249,253,254,255,258,259,260,261,262,263,264,265,266,267,269,274,270,271,272,273,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,292,294,296,297,298,299,300,301,302,303,305,306,304,302,303,304,302,305,306,3,13,15,29,32,35,37,41,42,72,93,293,295,301,308,70,310,311,312,315,317,323,318,319,320,321,322,324,325,326,327,328,329,330,341,331,332,333,334,335,336,337,338,339,340,343,345,0];var _lexer_trans_actions=[43,0,54,3,1,0,29,1,29,29,29,29,29,29,29,29,35,0,0,0,7,139,48,0,102,9,5,45,134,45,0,33,122,33,33,0,11,106,0,0,114,25,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,57,149,126,0,110,23,0,27,118,27,51,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,57,144,0,54,0,72,33,84,84,84,84,84,84,84,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,31,130,60,57,31,63,57,63,63,63,63,63,63,63,63,66,0,0,0,0,0,0,0,0,0,0,0,57,144,0,54,0,81,84,0,0,0,0,0,0,21,0,0,0,0,0,0,0,0,57,144,0,54,0,69,33,84,84,84,84,0,0,0,0,0,0,0,0,0,0,0,0,0,13,0,0,0,0,0,0,0,0,0,13,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,57,144,0,54,0,78,33,84,84,84,84,84,84,84,0,0,0,0,0,0,0,0,0,0,0,0,0,19,19,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,57,144,0,54,0,75,33,84,84,84,84,84,84,84,0,0,0,0,0,0,0,0,0,0,0,0,0,17,17,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,37,37,54,37,87,0,0,39,0,0,93,90,41,96,90,96,96,96,96,96,96,96,96,99,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var _lexer_eof_actions=[0,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43];var lexer_start=1;var lexer_first_final=346;var lexer_error=0;var lexer_en_main=1;var Lexer=function(listener){var events=["comment","tag","feature","background","scenario","scenario_outline","examples","step","doc_string","row","eof"];for(var i=0,len=events.length;i<len;i++){var event=events[i];if(typeof listener[event]!="function"){throw new Error("Error. No "+event+" function exists on "+JSON.stringify(listener))}}this.listener=listener};Lexer.prototype.scan=function(data){var ending="\n%_FEATURE_END_%";if(typeof data=="string"){data=this.stringToBytes(data+ending)}else if(typeof Buffer!="undefined"&&Buffer.isBuffer(data)){var buf=new Buffer(data.length+ending.length);data.copy(buf,0,0);new Buffer(ending).copy(buf,data.length,0);data=buf}var eof=pe=data.length;var p=0;this.line_number=1;this.last_newline=0;var signedCharValue=function(v){return v>127?v-256:v};{this.cs=lexer_start}{var _klen,_trans,_keys,_ps,_widec,_acts,_nacts;var _goto_level,_resume,_eof_trans,_again,_test_eof;var _out;_klen=_trans=_keys=_acts=_nacts=null;_goto_level=0;_resume=10;_eof_trans=15;_again=20;_test_eof=30;_out=40;while(true){_trigger_goto=false;if(_goto_level<=0){if(p==pe){_goto_level=_test_eof;continue}if(this.cs==0){_goto_level=_out;continue}}if(_goto_level<=_resume){_keys=_lexer_key_offsets[this.cs];_trans=_lexer_index_offsets[this.cs];_klen=_lexer_single_lengths[this.cs];_break_match=false;do{if(_klen>0){_lower=_keys;_upper=_keys+_klen-1;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1);if(signedCharValue(data[p])<_lexer_trans_keys[_mid]){_upper=_mid-1}else if(signedCharValue(data[p])>_lexer_trans_keys[_mid]){_lower=_mid+1}else{_trans+=_mid-_keys;_break_match=true;break}}if(_break_match){break}_keys+=_klen;_trans+=_klen}_klen=_lexer_range_lengths[this.cs];if(_klen>0){_lower=_keys;_upper=_keys+(_klen<<1)-2;while(true){if(_upper<_lower){break}_mid=_lower+(_upper-_lower>>1&~1);if(signedCharValue(data[p])<_lexer_trans_keys[_mid]){_upper=_mid-2}else if(signedCharValue(data[p])>_lexer_trans_keys[_mid+1]){_lower=_mid+2}else{_trans+=_mid-_keys>>1;_break_match=true;break}}if(_break_match){break}_trans+=_klen}}while(false);_trans=_lexer_indicies[_trans];this.cs=_lexer_trans_targs[_trans];if(_lexer_trans_actions[_trans]!=0){_acts=_lexer_trans_actions[_trans];_nacts=_lexer_actions[_acts];_acts+=1;while(_nacts>0){_nacts-=1;_acts+=1;switch(_lexer_actions[_acts-1]){case 0:this.content_start=p;this.current_line=this.line_number;this.start_col=p-this.last_newline-(this.keyword+":").length;break;case 1:this.current_line=this.line_number;this.start_col=p-this.last_newline;break;case 2:this.content_start=p;break;case 3:this.docstring_content_type_start=p;break;case 4:this.docstring_content_type_end=p;break;case 5:var con=this.unindent(this.start_col,this.bytesToString(data.slice(this.content_start,this.next_keyword_start-1)).replace(/(\r?\n)?([\t ])*$/,"").replace(/\\\"\\\"\\\"/gm,'"""'));var con_type=this.bytesToString(data.slice(this.docstring_content_type_start,this.docstring_content_type_end)).trim();this.listener.doc_string(con_type,con,this.current_line);break;case 6:p=this.store_keyword_content("feature",data,p,eof);break;case 7:p=this.store_keyword_content("background",data,p,eof);break;case 8:p=this.store_keyword_content("scenario",data,p,eof);break;case 9:p=this.store_keyword_content("scenario_outline",data,p,eof);break;case 10:p=this.store_keyword_content("examples",data,p,eof);break;case 11:var con=this.bytesToString(data.slice(this.content_start,p)).trim();this.listener.step(this.keyword,con,this.current_line);break;case 12:var con=this.bytesToString(data.slice(this.content_start,p)).trim();this.listener.comment(con,this.line_number);this.keyword_start=null;break;case 13:var con=this.bytesToString(data.slice(this.content_start,p)).trim();this.listener.tag(con,this.line_number);this.keyword_start=null;break;case 14:this.line_number++;break;case 15:this.last_newline=p+1;break;case 16:this.keyword_start=this.keyword_start||p;break;case 17:this.keyword=this.bytesToString(data.slice(this.keyword_start,p)).replace(/:$/,"");this.keyword_start=null;break;case 18:this.next_keyword_start=p;break;case 19:p=p-1;current_row=[];this.current_line=this.line_number;break;case 20:this.content_start=p;break;case 21:var con=this.bytesToString(data.slice(this.content_start,p)).trim();current_row.push(con.replace(/\\\|/,"|").replace(/\\n/,"\n").replace(/\\\\/,"\\"));break;case 22:this.listener.row(current_row,this.current_line);break;case 23:if(this.cs<lexer_first_final){var content=this.current_line_content(data,p);throw new Error("Lexing error on line "+this.line_number+": '"+content+"'. See http://wiki.github.com/cucumber/gherkin/lexingerror for more information.")}else{this.listener.eof()}break}}}if(_trigger_goto){continue}}if(_goto_level<=_again){if(this.cs==0){_goto_level=_out;continue}p+=1;if(p!=pe){_goto_level=_resume;continue}}if(_goto_level<=_test_eof){if(p==eof){__acts=_lexer_eof_actions[this.cs];__nacts=_lexer_actions[__acts];__acts+=1;while(__nacts>0){__nacts-=1;__acts+=1;switch(_lexer_actions[__acts-1]){case 23:if(this.cs<lexer_first_final){var content=this.current_line_content(data,p);throw new Error("Lexing error on line "+this.line_number+": '"+content+"'. See http://wiki.github.com/cucumber/gherkin/lexingerror for more information.")}else{this.listener.eof()}break}}if(_trigger_goto){continue}}}if(_goto_level<=_out){break}}}};var decodeUtf8=function(bytes){var result="";var i=0;var wc;var c;while(i<bytes.length){wc=bytes[i++];if(wc<128){count=0}else if(wc<194||wc>=248){throw new Error("input is not a valid UTF-8 lead octet")}else if(wc<224){count=1;wc=(wc&31)<<6}else if(wc<240){count=2;wc=(wc&15)<<12}else{count=3;wc=(wc&7)<<18}while(count){if(!(i<bytes.length)){throw new Error("short read")}if((c=bytes[i++]^128)>63){throw new Error("input is not a valid UTF-8 trail octet")}wc|=c<<6*--count;if(wc<1<<5*count+6){throw new Error("invalid non-minimal encoded input")}}if(wc>65535){wc-=65536;result+=String.fromCharCode(55296+(wc>>10));wc=56320+(wc&1023)}result+=String.fromCharCode(wc)}return result};var encodeUtf8=function(string){var bytes=[];var i=0;var j=0;var wc;while(i<string.length){wc=string.charCodeAt(i++);if(wc>=55296&&wc<=56319&&i<string.length&&string.charCodeAt(i)>=56320&&string.charCodeAt(i)<=57343){wc=65536+((wc&1023)<<10)+(string.charCodeAt(i++)&1023)}if(wc<128){bytes[j++]=wc;count=0}else if(wc<2048){bytes[j++]=192|wc>>6;count=1}else if(wc<65536){bytes[j++]=224|wc>>12;count=2}else{bytes[j++]=240|wc>>18;count=3}while(count){bytes[j++]=128|wc>>6*--count&63}}return bytes};Lexer.prototype.bytesToString=function(bytes){if(typeof bytes.write=="function"){return bytes.toString("utf-8")}return decodeUtf8(bytes)};Lexer.prototype.stringToBytes=function(string){return encodeUtf8(string)};Lexer.prototype.unindent=function(startcol,text){startcol=startcol||0;return text.replace(new RegExp("^[	 ]{0,"+startcol+"}","gm"),"")};Lexer.prototype.store_keyword_content=function(event,data,p,eof){var end_point=!this.next_keyword_start||p==eof?p:this.next_keyword_start;var content=this.unindent(this.start_col+2,this.bytesToString(data.slice(this.content_start,end_point))).replace(/\s+$/,"");var content_lines=content.split("\n");var name=content_lines.shift()||"";name=name.trim();var description=content_lines.join("\n");this.listener[event](this.keyword,name,description,this.current_line);var nks=this.next_keyword_start;this.next_keyword_start=null;return nks?nks-1:p};Lexer.prototype.current_line_content=function(data,p){var rest=Array.prototype.slice.call(data,this.last_newline,-1);var end=rest.indexOf(10)||-1;return this.bytesToString(rest.slice(0,end)).trim()};if(typeof module!=="undefined"){module.exports=Lexer}if(typeof define!=="undefined"){if(define.amd){define("gherkin/lexer/lt",[],function(){return Lexer})}else{define("gherkin/lexer/lt",function(require,exports,module){exports.Lexer=Lexer})}}})();